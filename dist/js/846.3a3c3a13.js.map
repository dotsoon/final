{"version":3,"file":"js/846.3a3c3a13.js","mappings":"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","sources":["webpack://simple-login-app/./src/views/Secure.vue?10f1","webpack://simple-login-app/./src/components/MyModal.vue?5053","webpack://simple-login-app/./src/components/MyModal.vue","webpack://simple-login-app/src/views/Secure.vue","webpack://simple-login-app/./src/views/Secure.vue?d69b","webpack://simple-login-app/./src/views/Secure.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"secure\"}},[_c('h1',[_vm._v(\"사진첨부\")]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"file-upload-container\",on:{\"dragenter\":_vm.onDragenter,\"dragover\":_vm.onDragover,\"dragleave\":_vm.onDragleave,\"drop\":_vm.onDrop,\"click\":_vm.onClick}},[_c('div',{staticClass:\"file-upload\"},[_vm._v(\" Drag & Drop Files \")])]),_c('input',{ref:\"fileInput\",staticClass:\"file-upload-input\",attrs:{\"type\":\"file\",\"multiple\":\"\"},on:{\"change\":_vm.onFileChange}}),_c('div',{staticClass:\"file-upload-list\"},_vm._l((_vm.fileList),function(file,index){return _c('div',{key:index,staticClass:\"file-upload-list__item\"},[_c('div',{staticClass:\"file-upload-list__item__data\"},[_c('img',{staticClass:\"file-upload-list__item__data-thumbnail\",attrs:{\"id\":\"img1\",\"src\":file.src}}),_c('div',{staticClass:\"file-upload-list__item__data-name\"},[_vm._v(\" \"+_vm._s(file.name)+\" \")])]),_c('div',{staticClass:\"file-upload-list__item__btn-remove\",on:{\"click\":function($event){return _vm.handleRemove(index)}}},[_vm._v(\" 삭제 \")])])}),0)]),_c('button',{staticClass:\"btn\",on:{\"click\":_vm.result}},[_vm._v(\"결과\")]),(_vm.modal)?_c('MyModal',{on:{\"click\":_vm.closeModal}},[_c('h1',[_vm._v(\"비만 여부를 판별 중입니다!\")]),_c('div',{staticClass:\"spinner-container\"},[_c('div',{staticClass:\"spinner\"})]),_c('template',{slot:\"footer\"},[_c('button',{on:{\"click\":_vm.doSend}},[_vm._v(\"다음\")])])],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"modal\",\"appear\":\"\"}},[_c('div',{staticClass:\"modal modal-overlay\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.$emit('close')}}},[_c('div',{staticClass:\"modal-window\"},[_c('div',{staticClass:\"modal-content\"},[_vm._t(\"default\")],2),_c('footer',{staticClass:\"modal-footer\"},[_vm._t(\"footer\",[_c('button',{on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\"Close\")])])],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./MyModal.vue?vue&type=template&id=3b942229&scoped=true&\"\nvar script = {}\nimport style0 from \"./MyModal.vue?vue&type=style&index=0&id=3b942229&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b942229\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id = \"secure\">\n    <h1>사진첨부</h1>\n  <div class=\"container\">\n    <div class=\"file-upload-container\" \n      @dragenter=\"onDragenter\"\n      @dragover=\"onDragover\"\n      @dragleave=\"onDragleave\"\n      @drop=\"onDrop\"\n      @click=\"onClick\"\n    >\n      <div class=\"file-upload\">\n        Drag & Drop Files\n      </div>\n    </div>\n    <!-- 파일 업로드 -->\n    <input type=\"file\" ref=\"fileInput\" class=\"file-upload-input\" @change=\"onFileChange\" multiple>\n    <!-- 업로드된 리스트 -->\n    <div class=\"file-upload-list\">\n      <div class=\"file-upload-list__item\" v-for=\"(file, index) in fileList\" :key=\"index\">\n        <div class=\"file-upload-list__item__data\">\n          <img id='img1' class=\"file-upload-list__item__data-thumbnail\" :src=\"file.src\">\n          <div class=\"file-upload-list__item__data-name\">\n            {{ file.name }}\n          </div>\n        </div>\n        <div class=\"file-upload-list__item__btn-remove\" @click=\"handleRemove(index)\">\n          삭제\n        </div>\n      </div>\n    </div>\n  </div>\n    \n    \n    \n    <button class=\"btn\" @click=\"result\">결과</button>\n    \n    <MyModal @click=\"closeModal\" v-if=\"modal\">\n      <!-- default 슬롯 콘텐츠 -->      \n      <h1>비만 여부를 판별 중입니다!</h1>\n      <div class=\"spinner-container\">\n        <div class=\"spinner\" />     \n      </div>      \n      <!-- /default -->\n      <!-- footer 슬롯 콘텐츠 -->\n      <template slot=\"footer\">\n          <button @click=\"doSend\">다음</button>\n      </template>\n    </MyModal>\n  </div>\n\n</template>\n\n<script>\nimport MyModal from '../components/MyModal.vue'\n\nexport default {\n  components: {MyModal},\n  name: 'Secure',\n  data() {\n      return {\n        fileList : [],\n        isDragged : '',\n        upload: { userid:JSON.parse(localStorage.getItem('userid')) ,image:null ,dog_breed:JSON.parse(localStorage.getItem('dog_breed')) },\n        modal: false,        \n    }\n  },\n  mounted() {\n        if(!this.$parent.authenticated) {\n            this.$router.replace({ name: \"Login\" });\n      }\n  },  \n  methods: {    \n    result(){    \n      var img1 = document.getElementById('img1').src;           \n      localStorage.setItem('image', JSON.stringify(img1));\n      var img2 = JSON.parse(localStorage.getItem('image'));\n      this.upload.image = img2.split('base64,')[1]     \n      // alert(JSON.stringify(this.upload));\n      if ( this.upload.userid == null || this.upload.image == null || this.upload.dog_breed == null){\n\t\t\t\t\talert('이미지를 업로드 해 주세요')\n\t\t\t\t\treturn\n      } else {\n        this.modal = true;\n        this.$http.post('http://35.76.37.170:8980/dogobesitytest/dogimage/',{\n\t\t\t\tupload: this.upload,\n\t\t\t\t})        \n\t\t\t\t.then((res) => {\n\t\t\t\tif (res.status == 200) {          \n          this.result = res.data['testresult'];\n          localStorage.setItem('result', JSON.stringify(this.result));\n          this.modal = false;\n          this.$router.push(\"./testresult\");\n\t\t\t\t}\n\t\t\t\tif (res.status == 400) {\n\t\t\t\t\talert(res.data.message);\n          this.$router.push(\"./dogimage\");\n\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(function (error) {\n\t\t\t\talert('error');\n\t\t\t\t})\n\t\t\t\t};      \n    },\n    closeModal() {\n      this.modal = false\n    },\n    doSend() {      \n      this.closeModal();\n      this.$router.push(\"./testresult\").catch(()=>{});    \n    },\n    onClick () {\n        this.$refs.fileInput.click()\n    },\n    onDragenter (event) {\n        // class 넣기\n      this.isDragged = true\n    },\n    onDragleave (event) {\n        // class 삭제\n      this.isDragged = false\n    },\n    onDragover (event) {\n        // 드롭을 허용하도록 prevetDefault() 호출\n      event.preventDefault()\n    },\n    onDrop (event) {\n        // 기본 액션을 막음 (링크 열기같은 것들)\n      event.preventDefault()\n      this.isDragged = false\n      const files = event.dataTransfer.files\n      this.addFiles(files)\n    },\n    onFileChange (event) {\n        const files = event.target.files\n      this.addFiles(files)\n    },\n    async addFiles (files) {\n        for(let i = 0; i < files.length; i++) {\n          const src = await this.readFiles(files[i])\n        files[i].src = src\n        this.fileList.push(files[i])\n      }\n    },\n\n    // FileReader를 통해 파일을 읽어 thumbnail 영역의 src 값으로 셋팅\n    async readFiles (files) {\n        return new Promise((resolve, reject) => {\n          const reader = new FileReader()\n        reader.onload = async (e) => {\n            resolve(e.target.result) \n        }\n        reader.readAsDataURL(files)\n      })\n    },\n    handleRemove (index) {\n        this.fileList.splice(index, 1)\n    }\n  }\n}\n  \n</script>\n\n<style lang=\"scss\">\n.select {\n  margin-top:30px;\n}\n\n.container {\n  min-height: 300px;\n  width: 500px;\n  margin: 0 auto;\n  margin-top:50px;\n}\n\n.spinner-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 240px;\n}\n.spinner {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  border: 10px solid #e0e0e0;\n  border-bottom: 10px solid #fe9616;\n  animation: spin 0.7s linear infinite;\n  position: relative;\n}\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.file-upload {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  border: transparent;\n  border-radius: 20px;\n  cursor: pointer;\n  &.dragged {\n    border: 1px dashed powderblue;\n    opacity: .6;\n  }\n  &-container {\n    height: 300px;\n    padding: 20px;\n    margin: 0 auto;\n    box-shadow: 0 0.625rem 1.25rem #0000001a;\n    border-radius: 20px;\n  }\n  &-input {\n    display: none;\n  }\n  &-list {\n    margin-top: 10px;\n    width: 100%;\n    &__item {\n      padding: 10px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      &__data {\n        display: flex;\n        align-items: center;\n        &-thumbnail {\n          margin-right: 10px;\n          border-radius: 20px;\n          width: 120px;\n          height: 120px;\n        }\n      }\n      &__btn-remove {\n        cursor: pointer;\n        border: 1px solid powderblue;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        padding: 5px;\n        border-radius: 6px;\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Secure.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Secure.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Secure.vue?vue&type=template&id=25c53b65&\"\nimport script from \"./Secure.vue?vue&type=script&lang=js&\"\nexport * from \"./Secure.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Secure.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticClass","on","onDragenter","onDragover","onDragleave","onDrop","onClick","ref","onFileChange","_l","file","index","key","src","_s","name","$event","handleRemove","result","closeModal","slot","doSend","_e","staticRenderFns","target","currentTarget","$emit","_t","script","component","components","MyModal","data","fileList","isDragged","upload","userid","JSON","parse","localStorage","getItem","image","dog_breed","modal","mounted","$parent","authenticated","$router","replace","methods","img1","document","getElementById","setItem","stringify","img2","split","$http","post","then","res","status","push","alert","message","catch","error","$refs","fileInput","click","event","preventDefault","files","dataTransfer","addFiles","async","i","length","readFiles","Promise","resolve","reject","reader","FileReader","onload","e","readAsDataURL","splice"],"sourceRoot":""}